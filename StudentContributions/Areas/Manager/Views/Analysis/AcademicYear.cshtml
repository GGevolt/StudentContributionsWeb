@model IEnumerable<AcademicYearVM>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<body>
<table class="table table-borderless table-hover overflow-hidden rounded-table border shadow">
    <thead class="table-active">
        <tr>
            <th>Faculty ID</th>
            <th>Semester Name</th>
            <th>Semester</th>
            <th>Number of contributor</th>
            <th>Number of Contribution</th>
            <th>Percentage of Contribution</th>
            <th>Percentage of Approved Contribution</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.FacultyId</td>
                <td>@item.semester.SemesterName</td>
                <td>@item.semester.StartDate to @item.semester.EndDate</td>
                <td>@item.ContributorNum</td> 
                <td>@item.ContributionNum</td>
                <td>@item.PercentageOfContribution %</td>
                <td>@item.PercentageOfApproved %</td>
            </tr>
        }
    </tbody>
</table>

    <canvas id="myChart" style="width:100%;max-width:600px;"></canvas>

<script>
        var xValues = [];
        @foreach (var item in Model)
        {
            @:xValues.push("@item.semester.SemesterName")
        }
        var yValues = [];
        @foreach (var item in Model)
        {
            @:yValues.push("@item.PercentageOfContribution")
        }
    var barColors = [
        "#b91d47",
        "#00aba9",
        "#2b5797",
        "#e8c3b9",
        "#1e7145"
    ];

    new Chart("myChart", {
        type: "pie",
        data: {
            labels: xValues,
            datasets: [{
                backgroundColor: barColors,
                data: yValues
            }]
        },
        options: {
            title: {
                display: true,
                    text: "Percentage of Contribution (%)"
            }
        }
    });
</script>
</body>